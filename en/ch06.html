<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.15" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <title>Chapter 6 General-Purpose Modules are Deeper | A Philosophy of Software Design</title><meta name="description" content="">
    <link rel="preload" href="/aposd-zh/assets/style-DY6JTdq5.css" as="style"><link rel="stylesheet" href="/aposd-zh/assets/style-DY6JTdq5.css">
    <link rel="modulepreload" href="/aposd-zh/assets/app-C_hbX5uA.js"><link rel="modulepreload" href="/aposd-zh/assets/ch06.html-DdFz6g4u.js">
    <link rel="prefetch" href="/aposd-zh/assets/index.html-CBNjHvZJ.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch01.html-jNHh16Hj.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch02.html-CzOfvIip.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch03.html-B1fy3Q83.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch04.html-CCsLnKno.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch05.html-DrxJNdX0.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch06.html-DHGWL9r_.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch07.html-Dsk3AWFi.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch08.html-Bqzcx-6m.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch09.html-BPo8bKyF.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch10.html-CwwTrPFX.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch11.html-BbKxmPS7.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch12.html-CDVOzmzm.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch13.html-BcrobMYw.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch14.html-CI8jFoVB.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch15.html-CpTBq7kr.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch16.html-OgLoIq68.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch17.html-c9qjeAaa.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch18.html-E6flKDWu.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch19.html-D5wGiu6g.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch20.html-B6unuRQX.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch21.html-CWTBySyi.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/preface.html-ClZJ1vXi.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/summary.html-DQXi70P8.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/index.html-Bvywiocb.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch01.html-D2pkwcTT.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch02.html-kOnKyKM9.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch03.html-KwZKBGPo.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch04.html-C1Bj2eDr.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch05.html-BVe0xnTJ.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch07.html-D1Balvxo.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch08.html-0sTswpr0.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch09.html-u_d6HFR-.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch10.html-DN_MiNQ0.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch11.html-CQBlcV0Z.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch12.html-DBgk_rbO.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch13.html-As1rmBs4.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch14.html-BSKnxddB.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch15.html-CVsPDdHn.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch16.html-BYAgL4gA.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch17.html-DEf7Fyaz.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch18.html-dA7IKLaf.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch19.html-DDrxnQeT.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch20.html-C5EHZXW0.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch21.html-CDaWbjDn.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/preface.html-DskSDAjJ.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/summary.html-CGVjgStX.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/index.html-Citt5Bb-.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch01.html-BrbBc-fz.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch02.html-BJc8Q-eU.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch03.html-BkP0S6yy.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch04.html-Cx5FuzoZ.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch05.html-Dy_eJRuR.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch06.html-DRfT3Cz9.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch07.html-C8_dUBzS.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch08.html-Cc-7pD5T.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch09.html-OhtAy_aa.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch10.html-CZQ3QsKI.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch11.html-CNZ6Ajw5.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch12.html-CdmfC9ff.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch13.html-CAXTLsNh.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch14.html-gBlOJmv0.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch15.html-C4jxLYvO.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch16.html-Sh5t742A.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch17.html-BFXub3YV.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch18.html-BrbHHnzl.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch19.html-SD4x9OLS.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch20.html-Bag5DIbG.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/ch21.html-_DI8ub6M.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/preface.html-DzXp5Gro.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/summary.html-DGdP9IiY.js" as="script"><link rel="prefetch" href="/aposd-zh/assets/404.html-DqjXl_Xv.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/aposd-zh/en/"><!----><span class="vp-site-name" aria-hidden="true">A Philosophy of Software Design</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/aposd-zh/ch06.html" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/aposd-zh/en/ch06.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/aposd-zh/zh-tw/ch06.html" aria-label="繁体中文"><!---->繁体中文<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yingang/aposd-zh" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/aposd-zh/ch06.html" aria-label="简体中文"><!---->简体中文<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/aposd-zh/en/ch06.html" aria-label="English"><!---->English<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/aposd-zh/zh-tw/ch06.html" aria-label="繁体中文"><!---->繁体中文<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/yingang/aposd-zh" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!---->GitHub<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Chapter 6 General-Purpose Modules are Deeper <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div class="theme-default-content" vp-content><!--[--><!--]--><div><h1 id="chapter-6-general-purpose-modules-are-deeper" tabindex="-1"><a class="header-anchor" href="#chapter-6-general-purpose-modules-are-deeper"><span>Chapter 6 General-Purpose Modules are Deeper</span></a></h1><p>One of the most common decisions that you will face when designing a new module is whether to implement it in a general-purpose or special-purpose fashion. Some might argue that you should take a general-purpose approach, in which you implement a mechanism that can be used to address a broad range of problems, not just the ones that are important today. In this case, the new mechanism may find unanticipated uses in the future, thereby saving time. The general-purpose approach seems consistent with the investment mindset discussed in Chapter 3, where you spend a bit more time up front to save time later on.</p><p>On the other hand, we know that it’s hard to predict the future needs of a software system, so a general-purpose solution might include facilities that are never actually needed. Furthermore, if you implement something that is too general-purpose, it might not do a good job of solving the particular problem you have today. As a result, some might argue that it’s better to focus on today’s needs, building just what you know you need, and specializing it for the way you plan to use it today. If you take the special-purpose approach and discover additional uses later, you can always refactor it to make it general-purpose. The special-purpose approach seems consistent with an incremental approach to software development.</p><h2 id="_6-1-make-classes-somewhat-general-purpose" tabindex="-1"><a class="header-anchor" href="#_6-1-make-classes-somewhat-general-purpose"><span>6.1 Make classes somewhat general-purpose</span></a></h2><h2 id="_6-2-example-storing-text-for-an-editor" tabindex="-1"><a class="header-anchor" href="#_6-2-example-storing-text-for-an-editor"><span>6.2 Example: storing text for an editor</span></a></h2><h2 id="_6-3-a-more-general-purpose-api" tabindex="-1"><a class="header-anchor" href="#_6-3-a-more-general-purpose-api"><span>6.3 A more general-purpose API</span></a></h2><h2 id="_6-4-generality-leads-to-better-information-hiding" tabindex="-1"><a class="header-anchor" href="#_6-4-generality-leads-to-better-information-hiding"><span>6.4 Generality leads to better information hiding</span></a></h2><h2 id="_6-5-questions-to-ask-yourself" tabindex="-1"><a class="header-anchor" href="#_6-5-questions-to-ask-yourself"><span>6.5 Questions to ask yourself</span></a></h2><h2 id="_6-6-conclusion" tabindex="-1"><a class="header-anchor" href="#_6-6-conclusion"><span>6.6 Conclusion</span></a></h2><p>General-purpose interfaces have many advantages over special-purpose ones. They tend to be simpler, with fewer methods that are deeper. They also provide a cleaner separation between classes, whereas special-purpose interfaces tend to leak information between classes. Making your modules somewhat general-purpose is one of the best ways to reduce overall system complexity.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/aposd-zh/assets/app-C_hbX5uA.js" defer></script>
  </body>
</html>
